(this["webpackJsonpelfsight-test-poject"]=this["webpackJsonpelfsight-test-poject"]||[]).push([[0],{28:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(21),l=c.n(a),o=(c(28),c(8)),i="https://jsonplaceholder.typicode.com",r=function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))},u=function(e){console.log(e)},j=c(18),b=c(22),d=c.n(b),h=c(0);function m(e){var t=e.selectedAlbum?"dialog_show":"",c=e.selectedAlbum.photos,s={dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,initialSlide:e.selectedAlbum.id,adaptiveHeight:!0};return c?Object(h.jsx)("div",{className:"dialog ".concat(t),onClick:function(t){(t.target.classList.contains("dialog")||t.target.classList.contains("dialog__content-card"))&&e.onClose()},children:Object(h.jsxs)("div",{className:"dialog__content-card",children:[Object(h.jsx)("div",{className:"dialog__carousel",children:Object(h.jsx)(d.a,Object(j.a)(Object(j.a)({},s),{},{children:c.map((function(e,t){return Object(h.jsx)("img",{src:e.url,alt:e.title,className:"dialog__img"},t)}))}))}),Object(h.jsx)("button",{type:"submit",className:"dialog__close-button dialog__close-button_card",onClick:e.onClose})]})}):Object(h.jsx)(h.Fragment,{})}var O=c(6);function p(e){return Object(h.jsxs)("li",{className:"users__user",children:[Object(h.jsx)("h1",{className:"users__title",children:e.user.name}),Object(h.jsx)("div",{className:"users__ocerlay",onClick:function(){e.onClickUser(e.user)},children:Object(h.jsx)(O.b,{to:"/albums/".concat(e.user.id),className:"users__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}function x(e){return Object(h.jsx)("ul",{className:"users",children:e.users.map((function(t){return Object(h.jsx)(p,{user:t,onClickUser:e.onClickUser},t.id)}))})}function f(e){return Object(h.jsxs)("li",{className:"albums__album",children:[Object(h.jsx)("h1",{className:"albums__title",children:e.album.title}),Object(h.jsxs)("p",{className:"albums__count",children:[e.count," \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"]}),Object(h.jsx)("div",{className:"albums__overlay",onClick:function(){e.onClickAlbum(e.album)},children:Object(h.jsx)(O.b,{to:"/photos/".concat(e.album.id),className:"albums__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}var _=c(2);function g(e){var t=Object(_.f)().userId;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.b,{to:"/",className:"link link_type_back",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(h.jsx)("ul",{className:"albums",children:e.albums.map((function(c){var s=e.photos.filter((function(e){return e.albumId==c.id}));if(c.userId==t)return Object(h.jsx)(f,{count:s.length,album:c,onClickAlbum:e.onClickAlbum},c.id)}))})]})}function k(e){return Object(h.jsxs)("li",{className:"photos__photo",children:[Object(h.jsx)("img",{src:e.photo.thumbnailUrl,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",className:"photos__img"}),Object(h.jsx)("div",{className:"photos__overlay",onClick:function(){e.onClickPhoto(e.number)},children:Object(h.jsx)("p",{className:"photos__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}function C(e){var t=Object(_.f)().albumId,c=[];e.photos.map((function(e){e.albumId==t&&c.push(e)}));var s=function(t){e.onClickPhoto({id:t,photos:c})};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.b,{to:"/albums/".concat(e.userId),className:"link link_type_back",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(h.jsx)("ul",{className:"photos",children:c.map((function(e,t){return Object(h.jsx)(k,{number:t,photo:e,onClickPhoto:s},t)}))})]})}var N=function(){var e="/elfsight-test-poject",t=n.a.useState([]),c=Object(o.a)(t,2),s=c[0],a=c[1],l=n.a.useState([]),j=Object(o.a)(l,2),b=j[0],d=j[1],O=n.a.useState([]),p=Object(o.a)(O,2),f=p[0],k=p[1],N=n.a.useState({}),v=Object(o.a)(N,2),S=v[0],I=v[1],y=n.a.useState({}),A=Object(o.a)(y,2),F=(A[0],A[1],n.a.useState({})),P=Object(o.a)(F,2),w=P[0],U=P[1],L=n.a.useState({}),T=Object(o.a)(L,2);T[0],T[1],n.a.useEffect((function(){Promise.all([fetch("".concat(i,"/users")).then(r),fetch("".concat(i,"/albums")).then(r),fetch("".concat(i,"/photos")).then(r)]).then((function(e){var t=Object(o.a)(e,3),c=t[0],s=t[1],n=t[2];a(c),d(s),k(n)})).catch(u)}),[]);var E=Object(_.g)();return E.path,E.url,Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"text"}),Object(h.jsxs)(_.c,{children:[Object(h.jsx)(_.a,{exact:!0,path:"".concat(e,"/"),children:Object(h.jsx)(x,{users:s,onClickUser:function(e){I(e)}})}),Object(h.jsx)(_.a,{path:"".concat(e,"/albums/:userId"),children:Object(h.jsx)(g,{albums:b,photos:f,onClickAlbum:function(e){U(e)}})}),Object(h.jsxs)(_.a,{path:"".concat(e,"/photos/:albumId"),children:[Object(h.jsx)(C,{userId:S.id,photos:f,onClickPhoto:function(e){U(e)}}),Object(h.jsx)(m,{selectedAlbum:w,onClose:function(){U({})}})]})]})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,l=t.getTTFB;c(e),s(e),n(e),a(e),l(e)}))};l.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(O.a,{children:Object(h.jsx)(N,{})})}),document.getElementById("root")),v()}},[[49,1,2]]]);
//# sourceMappingURL=main.8ffcbd7d.chunk.js.map