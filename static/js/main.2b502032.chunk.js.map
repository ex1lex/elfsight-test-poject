{"version":3,"sources":["utils/api.js","components/Popup.js","components/User.js","components/Users.js","components/Album.js","components/Albums.js","components/Photo.js","components/Photos.js","components/App.js","reportWebVitals.js","index.js"],"names":["_baseUrl","_handleResponse","res","ok","json","Promise","reject","Error","status","errors","error","console","log","Popup","props","openClass","selectedAlbum","items","photos","settings","dots","arrows","slidesToShow","slidesToScroll","initialSlide","id","adaptiveHeight","className","onClick","e","target","classList","contains","onClose","map","item","index","src","thumbnailUrl","alt","title","type","User","handleClick","onClickUser","user","name","to","Users","users","Album","album","count","onClickAlbum","Albums","userId","useParams","albums","filter","photo","albumId","length","Photo","onClickPhoto","number","Photos","push","handlePhotoClick","App","React","useState","setUsers","setAlbums","setPhotos","selectedUser","setSelectedUser","setSelectedAlbum","useEffect","all","fetch","then","catch","Api","useRouteMatch","path","url","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.2b502032.chunk.js","sourcesContent":["const _baseUrl = \"https://jsonplaceholder.typicode.com\";\r\n\r\nexport const _handleResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n};\r\n\r\nexport const errors = (error) => {\r\n  console.log(error);\r\n};\r\n\r\nexport const getUsers = () => {\r\n  return fetch(`${_baseUrl}/users`).then(_handleResponse);\r\n};\r\n\r\nexport const getAlbums = () => {\r\n  return fetch(`${_baseUrl}/albums`).then(_handleResponse);\r\n};\r\n\r\nexport const getPhotos = () => {\r\n  return fetch(`${_baseUrl}/photos`).then(_handleResponse);\r\n};\r\n","import Slider from \"react-slick\";\r\n\r\nexport default function Popup(props) {\r\n  const openClass = props.selectedAlbum ? \"dialog_show\" : \"\";\r\n  const items = props.selectedAlbum.photos;\r\n\r\n  const settings = {\r\n    dots: true,\r\n    arrows: false,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    initialSlide: props.selectedAlbum.id,\r\n    adaptiveHeight: true,\r\n  };\r\n\r\n  const overlayClickHandle = (e) => {\r\n    if (\r\n      e.target.classList.contains(\"dialog\") ||\r\n      e.target.classList.contains(\"dialog__content-card\")\r\n    ) {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  if (items) {\r\n    return (\r\n      <div className={`dialog ${openClass}`} onClick={overlayClickHandle}>\r\n        <div className=\"dialog__content-card\">\r\n          <div className=\"dialog__carousel\">\r\n            <Slider {...settings}>\r\n              {items.map((item, index) => {\r\n                return (\r\n                  <img\r\n                    key={index}\r\n                    src={item.thumbnailUrl}\r\n                    alt={item.title}\r\n                    className=\"dialog__img\"\r\n                  />\r\n                );\r\n              })}\r\n            </Slider>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"dialog__close-button\"\r\n            onClick={props.onClose}\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function User(props) {\r\n  const handleClick = () => {\r\n    props.onClickUser(props.user);\r\n  };\r\n\r\n  return (\r\n    <li className=\"users__user\">\r\n      <h2 className=\"users__title\">{props.user.name}</h2>\r\n      <NavLink\r\n        to={`/albums/${props.user.id}`}\r\n        className=\"users__overlay\"\r\n        onClick={handleClick}\r\n      >\r\n        <p className=\"users__label\" onClick={handleClick}>\r\n          Открыть\r\n        </p>\r\n      </NavLink>\r\n    </li>\r\n  );\r\n}\r\n","import User from \"./User\";\r\n\r\nexport default function Users(props) {\r\n  return (\r\n    <ul className=\"users\">\r\n      {props.users.map((item) => {\r\n        return (\r\n          <User key={item.id} user={item} onClickUser={props.onClickUser} />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function Album(props) {\r\n  const handleClick = () => {\r\n    props.onClickAlbum(props.album);\r\n  };\r\n\r\n  return (\r\n    <li className=\"albums__album\">\r\n      <h2 className=\"albums__title\">{props.album.title}</h2>\r\n      <p className=\"albums__count\">{props.count} фотографий</p>\r\n      <NavLink\r\n        to={`/photos/${props.album.id}`}\r\n        className=\"albums__overlay\"\r\n        onClick={handleClick}\r\n      >\r\n        <p className=\"albums__label\">Открыть</p>\r\n      </NavLink>\r\n    </li>\r\n  );\r\n}\r\n","import Album from \"./Album\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nexport default function Albums(props) {\r\n  const { userId } = useParams();\r\n\r\n  return (\r\n    <>\r\n      <ul className=\"albums\">\r\n        {props.albums.map((item) => {\r\n          const photos = props.photos.filter((photo) => {\r\n            return photo.albumId == item.id;\r\n          });\r\n          if (item.userId == userId) {\r\n            return (\r\n              <Album\r\n                key={item.id}\r\n                count={photos.length}\r\n                album={item}\r\n                onClickAlbum={props.onClickAlbum}\r\n              />\r\n            );\r\n          }\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function Photo(props) {\r\n  const handleClick = () => {\r\n    props.onClickPhoto(props.number);\r\n  };\r\n  return (\r\n    <li className=\"photos__photo\">\r\n      <img\r\n        src={props.photo.thumbnailUrl}\r\n        alt=\"картинка\"\r\n        className=\"photos__img\"\r\n      />\r\n      <div className=\"photos__overlay\" onClick={handleClick}>\r\n        <p className=\"photos__label\">Открыть</p>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import Photo from \"./Photo\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nexport default function Photos(props) {\r\n  const { albumId } = useParams();\r\n\r\n  const selectedAlbum = [];\r\n  props.photos.map((item) => {\r\n    if (item.albumId == albumId) {\r\n      selectedAlbum.push(item);\r\n    }\r\n  });\r\n\r\n  const handlePhotoClick = (id) => {\r\n    props.onClickPhoto({ id: id, photos: selectedAlbum });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className=\"photos\">\r\n        {selectedAlbum.map((item, index) => {\r\n          return (\r\n            <Photo\r\n              key={index}\r\n              number={index}\r\n              photo={item}\r\n              onClickPhoto={handlePhotoClick}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport * as Api from \"../utils/api\";\r\nimport Popup from \"./Popup\";\r\nimport Users from \"./Users\";\r\nimport Albums from \"./Albums\";\r\nimport Photos from \"./Photos\";\r\nimport { Route, Switch, useRouteMatch, NavLink } from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  const [users, setUsers] = React.useState([]);\r\n  const [albums, setAlbums] = React.useState([]);\r\n  const [photos, setPhotos] = React.useState([]);\r\n  const [selectedUser, setSelectedUser] = React.useState({});\r\n  const [selectedAlbum, setSelectedAlbum] = React.useState({});\r\n  const [selectedPhotos, setSelectedPhotos] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([Api.getUsers(), Api.getAlbums(), Api.getPhotos()])\r\n      .then(([users, albums, photos]) => {\r\n        setUsers(users);\r\n        setAlbums(albums);\r\n        setPhotos(photos);\r\n      })\r\n      .catch(Api.errors);\r\n  }, []);\r\n\r\n  const handleUserClick = (user) => {\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleAlbumClick = (album) => {\r\n    setSelectedAlbum(album);\r\n  };\r\n\r\n  const handlePhotoClick = (album) => {\r\n    setSelectedAlbum(album);\r\n  };\r\n\r\n  const closePopup = () => {\r\n    setSelectedAlbum({});\r\n  };\r\n\r\n  const { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <div className=\"gallery\">\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <h1 className=\"gallery__title\">Список пользователей</h1>\r\n          <Users users={users} onClickUser={handleUserClick} />\r\n        </Route>\r\n        <Route path=\"/albums/:userId\">\r\n          <NavLink to=\"/\" className=\"gallery__link\">\r\n            Назад\r\n          </NavLink>\r\n          <h1 className=\"gallery__title\">Список альбомов пользователя</h1>\r\n          <Albums\r\n            albums={albums}\r\n            photos={photos}\r\n            onClickAlbum={handleAlbumClick}\r\n          />\r\n        </Route>\r\n        <Route path=\"/photos/:albumId\">\r\n          <NavLink to={`/albums/${selectedUser.id}`} className=\"gallery__link\">\r\n            Назад\r\n          </NavLink>\r\n          <h1 className=\"gallery__title\">Фотографии</h1>\r\n          <Photos photos={photos} onClickPhoto={handlePhotoClick} />\r\n          <Popup selectedAlbum={selectedAlbum} onClose={closePopup} />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={\"/elfsight-test-poject\"}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}