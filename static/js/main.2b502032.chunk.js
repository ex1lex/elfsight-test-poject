(this["webpackJsonpelfsight-test-poject"]=this["webpackJsonpelfsight-test-poject"]||[]).push([[0],{28:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var s=c(1),l=c.n(s),n=c(21),a=c.n(n),o=(c(28),c(8)),i="https://jsonplaceholder.typicode.com",r=function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))},u=function(e){console.log(e)},j=c(18),b=c(22),h=c.n(b),m=c(0);function d(e){var t=e.selectedAlbum?"dialog_show":"",c=e.selectedAlbum.photos,s={dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,initialSlide:e.selectedAlbum.id,adaptiveHeight:!0};return c?Object(m.jsx)("div",{className:"dialog ".concat(t),onClick:function(t){(t.target.classList.contains("dialog")||t.target.classList.contains("dialog__content-card"))&&e.onClose()},children:Object(m.jsxs)("div",{className:"dialog__content-card",children:[Object(m.jsx)("div",{className:"dialog__carousel",children:Object(m.jsx)(h.a,Object(j.a)(Object(j.a)({},s),{},{children:c.map((function(e,t){return Object(m.jsx)("img",{src:e.thumbnailUrl,alt:e.title,className:"dialog__img"},t)}))}))}),Object(m.jsx)("button",{type:"submit",className:"dialog__close-button",onClick:e.onClose})]})}):Object(m.jsx)(m.Fragment,{})}var O=c(6);function _(e){var t=function(){e.onClickUser(e.user)};return Object(m.jsxs)("li",{className:"users__user",children:[Object(m.jsx)("h2",{className:"users__title",children:e.user.name}),Object(m.jsx)(O.b,{to:"/albums/".concat(e.user.id),className:"users__overlay",onClick:t,children:Object(m.jsx)("p",{className:"users__label",onClick:t,children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}function x(e){return Object(m.jsx)("ul",{className:"users",children:e.users.map((function(t){return Object(m.jsx)(_,{user:t,onClickUser:e.onClickUser},t.id)}))})}function f(e){return Object(m.jsxs)("li",{className:"albums__album",children:[Object(m.jsx)("h2",{className:"albums__title",children:e.album.title}),Object(m.jsxs)("p",{className:"albums__count",children:[e.count," \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"]}),Object(m.jsx)(O.b,{to:"/photos/".concat(e.album.id),className:"albums__overlay",onClick:function(){e.onClickAlbum(e.album)},children:Object(m.jsx)("p",{className:"albums__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}var p=c(2);function g(e){var t=Object(p.f)().userId;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:"albums",children:e.albums.map((function(c){var s=e.photos.filter((function(e){return e.albumId==c.id}));if(c.userId==t)return Object(m.jsx)(f,{count:s.length,album:c,onClickAlbum:e.onClickAlbum},c.id)}))})})}function N(e){return Object(m.jsxs)("li",{className:"photos__photo",children:[Object(m.jsx)("img",{src:e.photo.thumbnailUrl,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",className:"photos__img"}),Object(m.jsx)("div",{className:"photos__overlay",onClick:function(){e.onClickPhoto(e.number)},children:Object(m.jsx)("p",{className:"photos__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}function C(e){var t=Object(p.f)().albumId,c=[];e.photos.map((function(e){e.albumId==t&&c.push(e)}));var s=function(t){e.onClickPhoto({id:t,photos:c})};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:"photos",children:c.map((function(e,t){return Object(m.jsx)(N,{number:t,photo:e,onClickPhoto:s},t)}))})})}var k=function(){var e=l.a.useState([]),t=Object(o.a)(e,2),c=t[0],s=t[1],n=l.a.useState([]),a=Object(o.a)(n,2),j=a[0],b=a[1],h=l.a.useState([]),_=Object(o.a)(h,2),f=_[0],N=_[1],k=l.a.useState({}),v=Object(o.a)(k,2),y=v[0],S=v[1],I=l.a.useState({}),A=Object(o.a)(I,2),P=A[0],F=A[1],w=l.a.useState({}),U=Object(o.a)(w,2);U[0],U[1],l.a.useEffect((function(){Promise.all([fetch("".concat(i,"/users")).then(r),fetch("".concat(i,"/albums")).then(r),fetch("".concat(i,"/photos")).then(r)]).then((function(e){var t=Object(o.a)(e,3),c=t[0],l=t[1],n=t[2];s(c),b(l),N(n)})).catch(u)}),[]);var L=Object(p.g)();return L.path,L.url,Object(m.jsx)("div",{className:"gallery",children:Object(m.jsxs)(p.c,{children:[Object(m.jsxs)(p.a,{exact:!0,path:"/",children:[Object(m.jsx)("h1",{className:"gallery__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(m.jsx)(x,{users:c,onClickUser:function(e){S(e)}})]}),Object(m.jsxs)(p.a,{path:"/albums/:userId",children:[Object(m.jsx)(O.b,{to:"/",className:"gallery__link",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(m.jsx)("h1",{className:"gallery__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(m.jsx)(g,{albums:j,photos:f,onClickAlbum:function(e){F(e)}})]}),Object(m.jsxs)(p.a,{path:"/photos/:albumId",children:[Object(m.jsx)(O.b,{to:"/albums/".concat(y.id),className:"gallery__link",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(m.jsx)("h1",{className:"gallery__title",children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"}),Object(m.jsx)(C,{photos:f,onClickPhoto:function(e){F(e)}}),Object(m.jsx)(d,{selectedAlbum:P,onClose:function(){F({})}})]})]})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(t){var c=t.getCLS,s=t.getFID,l=t.getFCP,n=t.getLCP,a=t.getTTFB;c(e),s(e),l(e),n(e),a(e)}))};a.a.render(Object(m.jsx)(l.a.StrictMode,{children:Object(m.jsx)(O.a,{basename:"/elfsight-test-poject",children:Object(m.jsx)(k,{})})}),document.getElementById("root")),v()}},[[49,1,2]]]);
//# sourceMappingURL=main.2b502032.chunk.js.map