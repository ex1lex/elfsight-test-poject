{"version":3,"sources":["utils/api.js","components/Popup.js","components/User.js","components/Users.js","components/Album.js","components/Albums.js","components/Photo.js","components/Photos.js","components/App.js","reportWebVitals.js","index.js"],"names":["_baseUrl","_handleResponse","res","ok","json","Promise","reject","Error","status","errors","error","console","log","Popup","props","openClass","selectedAlbum","items","photos","settings","dots","arrows","slidesToShow","slidesToScroll","initialSlide","id","adaptiveHeight","className","onClick","e","target","classList","contains","onClose","map","item","index","src","url","alt","title","type","User","user","name","onClickUser","to","Users","users","Album","album","count","onClickAlbum","Albums","userId","useParams","albums","filter","photo","albumId","length","Photo","thumbnailUrl","onClickPhoto","number","Photos","push","handlePhotoClick","App","React","useState","setUsers","setAlbums","setPhotos","selectedUser","setSelectedUser","setSelectedAlbum","useEffect","all","fetch","then","catch","Api","useRouteMatch","path","exact","data","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.69d119ca.chunk.js","sourcesContent":["const _baseUrl = \"https://jsonplaceholder.typicode.com\";\r\n\r\nexport const _handleResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n};\r\n\r\nexport const errors = (error) => {\r\n  console.log(error);\r\n};\r\n\r\nexport const getUsers = () => {\r\n  return fetch(`${_baseUrl}/users`).then(_handleResponse);\r\n};\r\n\r\nexport const getAlbums = () => {\r\n  return fetch(`${_baseUrl}/albums`).then(_handleResponse);\r\n};\r\n\r\nexport const getPhotos = () => {\r\n  return fetch(`${_baseUrl}/photos`).then(_handleResponse);\r\n};\r\n","import Slider from \"react-slick\";\r\n\r\nexport default function Popup(props) {\r\n  const openClass = props.selectedAlbum ? \"dialog_show\" : \"\";\r\n  const items = props.selectedAlbum.photos;\r\n\r\n  const settings = {\r\n    dots: true,\r\n    arrows: false,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    initialSlide: props.selectedAlbum.id,\r\n    adaptiveHeight: true,\r\n  };\r\n\r\n  //TODO initialSlide должно получаться из вне - т.к. открыта фотография\r\n\r\n  const overlayClickHandle = (e) => {\r\n    if (\r\n      e.target.classList.contains(\"dialog\") ||\r\n      e.target.classList.contains(\"dialog__content-card\")\r\n    ) {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  if (items) {\r\n    return (\r\n      <div className={`dialog ${openClass}`} onClick={overlayClickHandle}>\r\n        <div className=\"dialog__content-card\">\r\n          <div className=\"dialog__carousel\">\r\n            <Slider {...settings}>\r\n              {items.map((item, index) => {\r\n                return (\r\n                  <img\r\n                    key={index}\r\n                    src={item.url}\r\n                    alt={item.title}\r\n                    className=\"dialog__img\"\r\n                  />\r\n                );\r\n              })}\r\n            </Slider>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"dialog__close-button dialog__close-button_card\"\r\n            onClick={props.onClose}\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function User(props) {\r\n  const handleClick = () => {\r\n    props.onClickUser(props.user);\r\n  };\r\n\r\n  return (\r\n    <li className=\"users__user\">\r\n      <h1 className=\"users__title\">{props.user.name}</h1>\r\n      <div className=\"users__ocerlay\" onClick={handleClick}>\r\n        <NavLink to={`/albums/${props.user.id}`} className=\"users__label\">\r\n          Открыть\r\n        </NavLink>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import User from \"./User\";\r\n\r\nexport default function Users(props) {\r\n  return (\r\n    <ul className=\"users\">\r\n      {props.users.map((item) => {\r\n        return (\r\n          <User key={item.id} user={item} onClickUser={props.onClickUser} />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function Album(props) {\r\n  const handleClick = () => {\r\n    props.onClickAlbum(props.album);\r\n  };\r\n\r\n  return (\r\n    <li className=\"albums__album\">\r\n      <h1 className=\"albums__title\">{props.album.title}</h1>\r\n      <p className=\"albums__count\">{props.count} фотографий</p>\r\n      <div className=\"albums__overlay\" onClick={handleClick}>\r\n        <NavLink to={`/photos/${props.album.id}`} className=\"albums__label\">\r\n          Открыть\r\n        </NavLink>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import Album from \"./Album\";\r\nimport { useParams, NavLink } from \"react-router-dom\";\r\n\r\nexport default function Albums(props) {\r\n  const { userId } = useParams();\r\n\r\n  return (\r\n    <>\r\n      <NavLink to=\"/\" className=\"link link_type_back\">\r\n        Назад\r\n      </NavLink>\r\n      <ul className=\"albums\">\r\n        {props.albums.map((item) => {\r\n          const photos = props.photos.filter((photo) => {\r\n            return photo.albumId == item.id;\r\n          });\r\n          if (item.userId == userId) {\r\n            return (\r\n              <Album\r\n                key={item.id}\r\n                count={photos.length}\r\n                album={item}\r\n                onClickAlbum={props.onClickAlbum}\r\n              />\r\n            );\r\n          }\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function Photo(props) {\r\n  const handleClick = () => {\r\n    props.onClickPhoto(props.number);\r\n  };\r\n  return (\r\n    <li className=\"photos__photo\">\r\n      <img\r\n        src={props.photo.thumbnailUrl}\r\n        alt=\"картинка\"\r\n        className=\"photos__img\"\r\n      />\r\n      <div className=\"photos__overlay\" onClick={handleClick}>\r\n        <p className=\"photos__label\">Открыть</p>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import Photo from \"./Photo\";\r\nimport { useParams, NavLink } from \"react-router-dom\";\r\n\r\nexport default function Photos(props) {\r\n  const { albumId } = useParams();\r\n\r\n  const selectedAlbum = [];\r\n  props.photos.map((item) => {\r\n    if (item.albumId == albumId) {\r\n      selectedAlbum.push(item);\r\n    }\r\n  });\r\n\r\n  const handlePhotoClick = (id) => {\r\n    props.onClickPhoto({ id: id, photos: selectedAlbum });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavLink to={`/albums/${props.userId}`} className=\"link link_type_back\">\r\n        Назад\r\n      </NavLink>\r\n      <ul className=\"photos\">\r\n        {selectedAlbum.map((item, index) => {\r\n          return (\r\n            <Photo\r\n              key={index}\r\n              number={index}\r\n              photo={item}\r\n              onClickPhoto={handlePhotoClick}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport * as Api from \"../utils/api\";\r\nimport Popup from \"./Popup\";\r\nimport Users from \"./Users\";\r\nimport Albums from \"./Albums\";\r\nimport Photos from \"./Photos\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  const [users, setUsers] = React.useState([]);\r\n  const [albums, setAlbums] = React.useState([]);\r\n  const [photos, setPhotos] = React.useState([]);\r\n  const [selectedUser, setSelectedUser] = React.useState({});\r\n  const [selectedAlbums, setSelectedAlbums] = React.useState({});\r\n  const [selectedAlbum, setSelectedAlbum] = React.useState({});\r\n  const [selectedPhotos, setSelectedPhotos] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([Api.getUsers(), Api.getAlbums(), Api.getPhotos()])\r\n      .then(([users, albums, photos]) => {\r\n        setUsers(users);\r\n        setAlbums(albums);\r\n        setPhotos(photos);\r\n      })\r\n      .catch(Api.errors);\r\n  }, []);\r\n\r\n  const handleUserClick = (user) => {\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleAlbumClick = (album) => {\r\n    setSelectedAlbum(album);\r\n  };\r\n\r\n  const handlePhotoClick = (data) => {\r\n    setSelectedAlbum(data);\r\n  };\r\n\r\n  const closePopup = () => {\r\n    setSelectedAlbum({});\r\n  };\r\n\r\n  const { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Users users={users} onClickUser={handleUserClick} />\r\n        </Route>\r\n        <Route path=\"/albums/:userId\">\r\n          <Albums\r\n            albums={albums}\r\n            photos={photos}\r\n            onClickAlbum={handleAlbumClick}\r\n          />\r\n        </Route>\r\n        <Route path=\"/photos/:albumId\">\r\n          <Photos\r\n            userId={selectedUser.id}\r\n            photos={photos}\r\n            onClickPhoto={handlePhotoClick}\r\n          />\r\n          <Popup selectedAlbum={selectedAlbum} onClose={closePopup} />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={\"/elfsight-test-poject\"}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}