(this["webpackJsonpelfsight-test-poject"]=this["webpackJsonpelfsight-test-poject"]||[]).push([[0],{28:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(21),l=c.n(a),o=(c(28),c(8)),i="https://jsonplaceholder.typicode.com",r=function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))},u=function(e){console.log(e)},b=c(18),j=c(22),d=c.n(j),h=c(0);function m(e){var t=e.selectedAlbum?"dialog_show":"",c=e.selectedAlbum.photos,s={dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,initialSlide:e.selectedAlbum.id,adaptiveHeight:!0};return c?Object(h.jsx)("div",{className:"dialog ".concat(t),onClick:function(t){(t.target.classList.contains("dialog")||t.target.classList.contains("dialog__content-card"))&&e.onClose()},children:Object(h.jsxs)("div",{className:"dialog__content-card",children:[Object(h.jsx)("div",{className:"dialog__carousel",children:Object(h.jsx)(d.a,Object(b.a)(Object(b.a)({},s),{},{children:c.map((function(e,t){return Object(h.jsx)("img",{src:e.url,alt:e.title,className:"dialog__img"},t)}))}))}),Object(h.jsx)("button",{type:"submit",className:"dialog__close-button dialog__close-button_card",onClick:e.onClose})]})}):Object(h.jsx)(h.Fragment,{})}var O=c(6);function f(e){return Object(h.jsxs)("li",{className:"users__user",children:[Object(h.jsx)("h1",{className:"users__title",children:e.user.name}),Object(h.jsx)("div",{className:"users__ocerlay",onClick:function(){e.onClickUser(e.user)},children:Object(h.jsx)(O.b,{to:"/albums/".concat(e.user.id),className:"users__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}function p(e){return Object(h.jsx)("ul",{className:"users",children:e.users.map((function(t){return Object(h.jsx)(f,{user:t,onClickUser:e.onClickUser},t.id)}))})}function _(e){return Object(h.jsxs)("li",{className:"albums__album",children:[Object(h.jsx)("h1",{className:"albums__title",children:e.album.title}),Object(h.jsxs)("p",{className:"albums__count",children:[e.count," \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"]}),Object(h.jsx)("div",{className:"albums__overlay",onClick:function(){e.onClickAlbum(e.album)},children:Object(h.jsx)(O.b,{to:"/photos/".concat(e.album.id),className:"albums__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}var x=c(2);function g(e){var t=Object(x.f)().userId;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.b,{to:"/",className:"link link_type_back",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(h.jsx)("ul",{className:"albums",children:e.albums.map((function(c){var s=e.photos.filter((function(e){return e.albumId==c.id}));if(c.userId==t)return Object(h.jsx)(_,{count:s.length,album:c,onClickAlbum:e.onClickAlbum},c.id)}))})]})}function k(e){return Object(h.jsxs)("li",{className:"photos__photo",children:[Object(h.jsx)("img",{src:e.photo.thumbnailUrl,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",className:"photos__img"}),Object(h.jsx)("div",{className:"photos__overlay",onClick:function(){e.onClickPhoto(e.number)},children:Object(h.jsx)("p",{className:"photos__label",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})}function C(e){var t=Object(x.f)().albumId,c=[];e.photos.map((function(e){e.albumId==t&&c.push(e)}));var s=function(t){e.onClickPhoto({id:t,photos:c})};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.b,{to:"/albums/".concat(e.userId),className:"link link_type_back",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(h.jsx)("ul",{className:"photos",children:c.map((function(e,t){return Object(h.jsx)(k,{number:t,photo:e,onClickPhoto:s},t)}))})]})}var N=function(){var e=n.a.useState([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=n.a.useState([]),l=Object(o.a)(a,2),b=l[0],j=l[1],d=n.a.useState([]),O=Object(o.a)(d,2),f=O[0],_=O[1],k=n.a.useState({}),N=Object(o.a)(k,2),v=N[0],S=N[1],I=n.a.useState({}),y=Object(o.a)(I,2),A=(y[0],y[1],n.a.useState({})),F=Object(o.a)(A,2),P=F[0],w=F[1],U=n.a.useState({}),L=Object(o.a)(U,2);L[0],L[1],n.a.useEffect((function(){Promise.all([fetch("".concat(i,"/users")).then(r),fetch("".concat(i,"/albums")).then(r),fetch("".concat(i,"/photos")).then(r)]).then((function(e){var t=Object(o.a)(e,3),c=t[0],n=t[1],a=t[2];s(c),j(n),_(a)})).catch(u)}),[]);var T=Object(x.g)();return T.path,T.url,Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(x.c,{children:[Object(h.jsx)(x.a,{exact:!0,path:"/",children:Object(h.jsx)(p,{users:c,onClickUser:function(e){S(e)}})}),Object(h.jsx)(x.a,{path:"/albums/:userId",children:Object(h.jsx)(g,{albums:b,photos:f,onClickAlbum:function(e){w(e)}})}),Object(h.jsxs)(x.a,{path:"/photos/:albumId",children:[Object(h.jsx)(C,{userId:v.id,photos:f,onClickPhoto:function(e){w(e)}}),Object(h.jsx)(m,{selectedAlbum:P,onClose:function(){w({})}})]})]})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,l=t.getTTFB;c(e),s(e),n(e),a(e),l(e)}))};l.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(O.a,{basename:"/elfsight-test-poject",children:Object(h.jsx)(N,{})})}),document.getElementById("root")),v()}},[[49,1,2]]]);
//# sourceMappingURL=main.69d119ca.chunk.js.map